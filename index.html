 <!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
<title>Food classified</title>
 
<style> 
  h1 {
  text-align: center;
  color: rgb(24, 73, 30);
} 
  
.Div {
border: 5px outset rgb(24, 73, 30);
}


	table,th,td{
		border: 1px solid rgb(24, 73, 30);
	}
	
	</style>
	<body>
	<center>
	<img src="http://bshs.org.au/uploads/image/AP_WP%20EATING.png" 
	width="200";
	height="170";>
	<h1>Healthy Food Classified</h1>
	</center>
	

	<br>
	
	<center>
		<div class="Div"></div>
		<br><br>
		<form action="/fasttext">
			Enter your text to be classified<br>
			<input type="text" name="statement">
			<input type="submit" value="Submit">
			<input type="reset" value="Clear">
			<br><br><br><br>


<script type="text/javascript">

	
	function changeIt() {


		var term = document.getElementById("statement").value; 
    	var url = 'http://localhost:8000/fasttext?statement=' + term;
        fetch(url).then(res=>res.text()).then(text=> document.getElementById("my_div").innerHTML = convert_to_table(text) )
		
	}


	function convert_to_table (text){ 
		const roww = JSON.parse(text);
	for (var r in roww){
		delete roww[r]["value"];
	}

	
	var col = [];
	for (var i = 0; i < roww.length; i++) {
		for (var key in roww[i]) {
			if (col.indexOf(key) === -1) {
				col.push(key);
			}
		}
	}


	var table = document.createElement("table");

	var tr = table.insertRow(-1);                   

	for (var i = 0; i < col.length; i++) {
		var th = document.createElement("th");      
		th.innerHTML = col[i];
		tr.appendChild(th);
	}
	for (var i = 0; i < roww.length; i++) {

		tr = table.insertRow(-1);

		for (var j = 0; j < col.length; j++) {
			var tabCell = tr.insertCell(-1);
			tabCell.innerHTML = roww[i][col[j]];
		}
	}
	var divContainer = document.getElementById("showData");
	divContainer.innerHTML = "";
	divContainer.appendChild(table);
	return "";
	}
	</script>
	<div id="my_div"></div>
	
	
   <img src="https://t3.ftcdn.net/jpg/03/86/58/88/240_F_386588859_BH4uUobRxT4ZFG8SS1qGYUxmDmRVqcpr.jpg"
   height="500";
   width="1320";> 

</center>
</body>

</html> 